<form [formGroup]="payment">

  <div
    class="col-lg-10 col-md-10 col-sm-12 col-12 text-center justify-content-center steps-setting float-not-left span-left">

    <div class="col-lg-12 col-md-12 col-sm-12 col-12 text-center justify-content-center">
      <div class="col-lg-10 col-md-10 col-sm-10 col-12 text_left justify-content-end underline float-not-left">
        <p translate>Your Info</p>
      </div>

      <div class="col-lg-10 col-md-10 col-sm-10 col-12 text-center justify-content-end mt-3 float-not-left">
        <div class="col-lg-6 col-md-6 col-sm-6 col-12 d-flex text-center justify-content-start pd-0 pr-1 pl-1">
          <div class="form-group">
            <input formControlName="first_name" type="text" class="form-control evento_input"
              placeholder="{{ 'First Name' | translate }}">
            <div class="error"
              *ngIf="payment.controls['first_name'].hasError('required') && !payment.controls['first_name'].pristine"
              translate>This field is required
            </div>
            <div class="error"
              *ngIf="payment.controls['first_name'].hasError('minlength') && !payment.controls['first_name'].pristine"
              translate>First name most have more than 3 letters
            </div>
            <div class="error"
              *ngIf="payment.controls['first_name'].hasError('maxlength') && !payment.controls['first_name'].pristine">
              First name most have less than 40 letters
            </div>
          </div>
        </div>
        <div class="col-lg-6 col-md-6 col-sm-6 col-12 d-flex text-center justify-content-start pd-0 pr-1 pl-1">
          <div class="form-group">
            <input formControlName="last_name" type="text" class="form-control evento_input"
              placeholder="{{ 'Last Name' | translate }}">
            <div class="error"
              *ngIf="payment.controls['last_name'].hasError('required') && !payment.controls['last_name'].pristine"
              translate>This field is required
            </div>
            <div class="error"
              *ngIf="payment.controls['last_name'].hasError('minlength') && !payment.controls['last_name'].pristine"
              translate>Last name most have more than 3 letters
            </div>
            <div class="error"
              *ngIf="payment.controls['last_name'].hasError('maxlength') && !payment.controls['last_name'].pristine"
              translate>Last name most have less than 40 letters
            </div>
          </div>
        </div>
      </div>


      <div class="col-lg-10 col-md-10 col-sm-10 col-12 text-center justify-content-end float-not-left">
        <div class="col-lg-6 col-md-6 col-sm-6 col-12 d-flex text-center justify-content-start pd-0 pr-1 pl-1">
          <div class="form-group">
            <input formControlName="email" type="text" class="form-control evento_input"
              placeholder="{{ 'Email' | translate }}">
            <div class="error"
              *ngIf="payment.controls['email'].hasError('required') && !payment.controls['email'].pristine" translate>
              This field is required
            </div>
            <div class="error"
              *ngIf="payment.controls['email'].hasError('email') && !payment.controls['email'].pristine" translate>
              Email format is not valid
            </div>
          </div>
        </div>

        <div class="col-lg-6 col-md-6 col-sm-6 col-12 d-flex text-center justify-content-start pd-0 pr-1 pl-1">
          <div class="form-group">
            <input maxlength="10" formControlName="mobile" type="text" class="form-control evento_input"
              placeholder="{{ 'Phone Number' | translate }}">
            <div class="error"
              *ngIf="payment.controls['mobile'].hasError('required') && !payment.controls['mobile'].pristine" translate>
              This field is required
            </div>
            <div class="error"
              *ngIf="payment.controls['mobile'].hasError('pattern') && !payment.controls['mobile'].pristine" translate>
              Mobile number most have 10 numbers
            </div>
          </div>
        </div>
      </div>
    </div>

    <form formArrayName="visitors">
      <div class="col-lg-12 col-md-12 col-sm-12 col-12 text-center justify-content-center mt-55">
        <div class="col-lg-10 col-md-10 col-sm-10 col-12 text_left justify-content-end underline float-not-left">
          <p translate>Visitor Info</p>
        </div>
        <br />

        <div class="col-lg-10 col-md-10 col-sm-10 col-12 text_left justify-content-end  float-not-left">

          <div class="mt-3" *ngFor="let visitor of payment.get('visitors')['controls']; let i = index;">
            <div class="col-lg-2 col-md-2 col-sm-2  text_left d-flex align-items-center justify-content-start ">
              <p>{{ 'Ticket' | translate }} {{i+1}}</p>
            </div>
            <div [formGroupName]="i" class="col-lg-10 col-md-10 col-sm-10 col-12 text-center justify-content-center ">
              <div class="col-lg-6 col-md-6 col-sm-6 col-12 d-flex text-center justify-content-start pd-0 pr-1 pl-1">
                <div class="form-group">
                  <input formControlName="first_name" type="text" class="form-control evento_input"
                    placeholder="{{ 'First Name' | translate }}">
                  <div class="error"
                    *ngIf="visitor.controls['first_name'].hasError('required') && visitor.controls['first_name'].dirty">
                    هذا الحقل إجباري
                  </div>
                  <div class="error"
                    *ngIf="visitor.controls['first_name'].hasError('minlength') && visitor.controls['first_name'].dirty">
                    هذا الحقل يجب ان لايقل عن 3 احرف
                  </div>
                  <div class="error"
                    *ngIf="visitor.controls['first_name'].hasError('maxlength') && visitor.controls['first_name'].dirty">
                    هذا الحقل يجب ان لايزيد عن 40 حرف
                  </div>
                </div>
              </div>
              <div class="col-lg-6 col-md-6 col-sm-6 col-12 d-flex text-center justify-content-start pd-0 pr-1 pl-1">
                <div class="form-group">
                  <input formControlName="last_name" type="text" class="form-control evento_input"
                    placeholder="{{ 'Last Name' | translate }}">
                  <div class="error"
                    *ngIf="visitor.controls['last_name'].hasError('required') && visitor.controls['last_name'].dirty">
                    هذا الحقل إجباري
                  </div>
                  <div class="error"
                    *ngIf="visitor.controls['last_name'].hasError('minlength') && visitor.controls['last_name'].dirty">
                    هذا الحقل يجب ان لايقل عن 3 احرف
                  </div>
                  <div class="error"
                    *ngIf="visitor.controls['last_name'].hasError('maxlength') && visitor.controls['last_name'].dirty">
                    هذا الحقل يجب ان لايزيد عن 40 حرف
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>


      </div>
    </form>


    <div class="col-lg-12 col-md-12 col-sm-12 col-12 d-flex text-center justify-content-end mt-71">
      <div class="col-lg-8 col-md-8 col-sm-8 col-12 d-flex text-center justify-content-center">
        <div class="form-group text-center">
          <button type="button" class="btn btn-dark pd-60 md-15" (click)="onButtonBack()" translate>Back</button>
          <button type="button" class="btn btn-success md-15" [disabled]="!payment.controls['first_name'].valid ||
          !payment.controls['last_name'].valid ||
          !payment.controls['mobile'].valid ||
          !payment.controls['email'].valid || !payment.controls['visitors'].valid" (click)="onButtonNext()"
            translate>Next Step &nbsp;<i class="fas fa-chevron-left"></i></button>
        </div>
      </div>
    </div>
  </div>
</form>